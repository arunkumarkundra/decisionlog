<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Security Headers -->
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  
  <!-- Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' https://accounts.google.com https://apis.google.com https://cdn.jsdelivr.net;
    connect-src 'self' https://www.googleapis.com https://accounts.google.com;
    img-src 'self' data:;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    frame-ancestors 'none';
    base-uri 'self';
  ">
  
  <!-- SEO Meta Tags -->
  <title>DecisionLog ‚Äì Record, Review, and Improve Your Decisions</title>
  <meta name="description" content="DecisionLog is a private, Google Drive‚Äìbased tool that helps you capture major decisions, record your reasoning, review outcomes over time, and improve your judgment through structured feedback. Your data stays entirely with you.">
  <meta name="keywords" content="decision log, decision journal, decision making app, personal analytics, judgement improvement, reasoning tracker, cognitive bias, review decisions, structured thinking, private decision tracking">
  <meta name="author" content="DecisionLog">
  <meta name="theme-color" content="#0f172a">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://yourdomain.com/">
  
  <!-- Robots -->
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph (Facebook/LinkedIn) -->
  <meta property="og:title" content="DecisionLog ‚Äì A Better Way to Learn from Your Decisions">
  <meta property="og:description" content="Capture important decisions, document your reasoning, review them over time, and see how your judgment evolves. 100% private ‚Äî data stored only in your Google Drive.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourdomain.com/">
  <meta property="og:image" content="https://yourdomain.com/assets/og-image.png">
  
  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="DecisionLog ‚Äì Improve Your Judgment, One Decision at a Time">
  <meta name="twitter:description" content="Record your decisions, document reasoning, review outcomes, and understand how your judgment changes. Private, secure, Google Drive‚Äìbacked.">
  <meta name="twitter:image" content="https://yourdomain.com/assets/og-image.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <!-- Toast Container for Notifications -->
  <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>
  
  <!-- Home View -->
  <div id="home-view" class="home-view">
    <header class="home-header">
      <div class="container">
        <div class="logo-section">
          <img src="/assets/favicon.svg" alt="DecisionLog logo" class="logo-img" width="48" height="48">
          <div class="logo-text">
            <h1 class="app-title">DecisionLog</h1>
            <p class="app-tagline">Decisions remembered. Judgment improved.</p>
          </div>
        </div>
        <nav class="header-nav" aria-label="Main navigation">
          <button id="sign-in-btn" class="btn btn-primary">
            Sign in with Google
          </button>
          <button class="btn btn-secondary" data-action="show-about" aria-label="About DecisionLog">
            About
          </button>
        </nav>
      </div>
    </header>

    <main id="main-content" class="home-main">
      <section class="hero-section">
        <div class="container">
          <h2 class="hero-title">Why DecisionLog Exists</h2>
          <p class="hero-lead">Most important outcomes in life are shaped by a handful of decisions made under uncertainty. Yet we rarely record what we were thinking at the moment we made them.</p>
          
          <div class="value-props">
            <div class="value-prop">
              <h3>The Problem</h3>
              <p>As time passes, our memory distorts the past. We forget our original reasoning, fit new narratives to old outcomes, and judge decisions by how things turned out‚Äînot by the quality of thinking behind them. This blindness prevents learning.</p>
            </div>
            
            <div class="value-prop">
              <h3>The Solution</h3>
              <p>DecisionLog provides a private, structured way to capture decisions as they happen, review them over time, and see patterns in your judgment. It's a mirror for your thinking‚Äîone that stays honest when memory doesn't.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="features-section">
        <div class="container">
          <h2 class="section-title">How It Works</h2>
          
          <div class="features-grid">
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">üìù</div>
              <h3>Capture Decisions</h3>
              <p>Record your reasoning, expectations, alternatives considered, concerns, and emotional factors‚Äîbefore hindsight colors everything.</p>
            </article>
            
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">‚≠ê</div>
              <h3>Assign Importance</h3>
              <p>Not every decision deserves the same attention. Mark the high-impact ones that actually matter with a 0-5 star rating.</p>
            </article>
            
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">üîÑ</div>
              <h3>Review Over Time</h3>
              <p>As outcomes unfold, evaluate decisions across three dimensions: how well things turned out, how accurate your thesis was, and how much luck played a role.</p>
            </article>
            
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">üìä</div>
              <h3>See Patterns</h3>
              <p>Over months or years, reviews reveal where your thinking is consistently strong, where it's biased, and where blind spots repeat.</p>
            </article>
            
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">üéØ</div>
              <h3>Build Self-Awareness</h3>
              <p>Understand not only what decisions worked, but why‚Äîand how your perception changes over time.</p>
            </article>
            
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">üîí</div>
              <h3>Your Data Stays Yours</h3>
              <p>Everything is stored solely in your personal Google Drive. No server storage, no tracking, no analytics.</p>
            </article>
          </div>
        </div>
      </section>

      <section class="privacy-section">
        <div class="container">
          <h2 class="section-title">Privacy & Security</h2>
          <div class="privacy-grid">
            <div class="privacy-item">
              <h3>üîê No Server Storage</h3>
              <p>All your decisions and reviews live only in your Google Drive. We never see or store your data.</p>
            </div>
            <div class="privacy-item">
              <h3>üç™ No Cookies</h3>
              <p>Authentication tokens are kept in memory only. No tracking cookies, no third-party scripts.</p>
            </div>
            <div class="privacy-item">
              <h3>üëÅÔ∏è No Tracking</h3>
              <p>No analytics, no behavioral logging, no data collection of any kind.</p>
            </div>
            <div class="privacy-item">
              <h3>üéõÔ∏è Your Control</h3>
              <p>Export, import, or delete your data anytime. It's your file in your Drive.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="cta-section">
        <div class="container">
          <h2>Ready to improve your judgment?</h2>
          <p>Start tracking your decisions today. Sign in with Google to get started.</p>
          <button id="sign-in-btn-cta" class="btn btn-primary btn-lg">
            Sign in with Google
          </button>
          <p class="cta-note">Free to use. Your data stays in your Google Drive.</p>
        </div>
      </section>
    </main>

    <footer class="home-footer">
      <div class="container">
        <div class="footer-content">
          <p>&copy; 2025 DecisionLog. Open source project.</p>
          <nav class="footer-nav" aria-label="Footer navigation">
            <a href="/privacy.html">Privacy Policy</a>
            <a href="/terms.html">Terms of Service</a>
            <a href="https://github.com/yourusername/decisionlog" target="_blank" rel="noopener noreferrer">GitHub</a>
          </nav>
        </div>
      </div>
    </footer>
  </div>

  <!-- App View (Hidden by Default) -->
  <div id="app-view" class="app-view hidden">
    <header class="app-header">
      <div class="header-left">
        <img src="/assets/favicon.svg" alt="DecisionLog" class="header-logo" width="32" height="32">
        <h1 class="header-title">DecisionLog</h1>
        <span class="header-filename" id="current-filename">No file open</span>
      </div>
      <div class="header-right">
        <button class="btn btn-secondary btn-sm" id="open-file-btn" aria-label="Open another file">
          Open File
        </button>
        <button class="btn btn-secondary btn-sm" id="close-file-btn" aria-label="Close current file">
          Close File
        </button>
        <button class="btn btn-secondary btn-sm" id="export-btn" aria-label="Export to JSON">
          Export
        </button>
        <button class="btn btn-secondary btn-sm" id="import-btn" aria-label="Import from JSON">
          Import
        </button>
        <button class="btn btn-secondary btn-sm" data-action="show-about" aria-label="About">
          About
        </button>
        <button class="btn btn-secondary btn-sm" id="sign-out-btn" aria-label="Sign out">
          Sign Out
        </button>
      </div>
    </header>

    <div class="app-main">
      <aside class="app-sidebar" role="complementary" aria-label="Decisions list and filters">
        <div class="sidebar-header">
          <h2 class="sidebar-title">Decisions</h2>
          <button class="btn btn-primary btn-sm" id="add-decision-btn" aria-label="Add new decision">
            + Add Decision
          </button>
        </div>

        <div class="sidebar-filters">
          <div class="search-box">
            <label for="search-input" class="sr-only">Search decisions</label>
            <input 
              type="search" 
              id="search-input" 
              class="search-input" 
              placeholder="Search decisions..."
              aria-label="Search decisions by title, description, or tags"
            />
          </div>
          
          <!-- Additional filters could be added here -->
        </div>

        <div id="decision-list" class="decision-list" role="region" aria-label="List of decisions">
          <!-- Decisions will be rendered here by ui.js -->
        </div>
      </aside>

      <main class="app-content" role="main">
        <div id="decision-detail" class="decision-detail">
          <!-- Decision detail will be rendered here by ui.js -->
          <div class="empty-state" role="status">
            <p>Select a decision to view details, or add a new decision to get started.</p>
          </div>
        </div>
      </main>
    </div>

    <div class="app-footer">
      <div class="footer-controls">
        <label class="toggle-label">
          <input type="checkbox" id="high-contrast-toggle" aria-label="Toggle high contrast mode">
          <span>High Contrast</span>
        </label>
        <label class="toggle-label">
          <input type="checkbox" id="keyboard-shortcuts-toggle" aria-label="Enable keyboard shortcuts" checked>
          <span>Keyboard Shortcuts</span>
        </label>
      </div>
    </div>
  </div>

  <!-- External Dependencies -->
  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- Google API Client -->
  <script src="https://apis.google.com/js/api.js" async defer></script>
  
  <!-- Chart.js for visualizations -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" integrity="sha384-11Bn6TJS7WPrSaLf1BjkQ3KT9/5d4PqKmL7FQ/VUa6/1FfLvb+g9f4eVJqBX6v8S" crossorigin="anonymous"></script>
  
  <!-- DOMPurify for sanitization (optional but recommended) -->
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js" integrity="sha384-FAPh3W6+7LrLqfJfELPiqXvvqPt9Xp5IqZK+WmxrNs9aGKVwDQlT8p3MKGaLNPjQ" crossorigin="anonymous"></script>
  
  <!-- Application Scripts (in order of dependency) -->
  <script src="/js/utils.js" defer></script>
  <script src="/js/accessibility.js" defer></script>
  <script src="/js/auth.js" defer></script>
  <script src="/js/storage.js" defer></script>
  <script src="/js/charts.js" defer></script>
  <script src="/js/forms.js" defer></script>
  <script src="/js/ui.js" defer></script>
  <script src="/script.js" defer></script>
</body>
</html>
